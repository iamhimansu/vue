"use strict";(self["webpackChunkpersonal"]=self["webpackChunkpersonal"]||[]).push([[129],{3129:function(t,e,s){s.r(e),s.d(e,{default:function(){return st}});var r=s(9199);function l(t,e,s,l,o,a){const n=(0,r.up)("ArticleLists");return(0,r.wg)(),(0,r.j4)(n)}const o={class:"flex flex-col sm:flex-row"},a={class:"w-full md:w-4/6 min-h-screen p-4 md:p-12 border-r dark:border-r-gray-900"},n={class:"max-w-2xl py-4 mx-auto bg-white mb-5 border-b dark:border-b-gray-900 dark:bg-midnight",style:{cursor:"auto"}},i={class:"flex items-center justify-between"},c={class:"text-sm font-light text-gray-600"},u=(0,r._)("a",{class:"px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-200 transform bg-gray-600 rounded cursor-pointer hover:bg-gray-500"},"JavaScript",-1),d={class:"mt-2"},p=["innerHTML"],g={class:"flex items-center justify-between mt-4"},m=(0,r._)("div",{class:"flex items-center"},[(0,r._)("img",{alt:"Author Photo",class:"object-cover w-10 h-10 mx-4 rounded-full sm:block",src:"https://avatars.githubusercontent.com/u/44632846?v=4"}),(0,r._)("a",{class:"font-bold text-gray-700 cursor-pointer"},"Himanshu")],-1),h={class:"w-full md:w-2/6 p-4 md:p-8"};function b(t,e,s,l,b,f){const w=(0,r.up)("top-articles"),x=(0,r.up)("router-link"),v=(0,r.up)("people-suggestions");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",a,[(0,r.Wm)(w,{"top-articles":b.topArticles},null,8,["top-articles"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(b.articles,((t,e)=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r._)("div",n,[(0,r._)("div",i,[(0,r._)("span",c,(0,r.zw)(f.formatDate(t.createdAt)),1),u]),(0,r._)("div",d,[(0,r.Wm)(x,{to:{path:f.articleLink(t.id)},class:"text-2xl font-bold text-gray-700 hover:text-gray-600 hover:underline"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,r.zw)(t.title),1)])),_:2},1032,["to"]),(0,r._)("p",{class:"mt-2 text-gray-600",innerHTML:JSON.parse(t.json_content).blocks[0].data.text},null,8,p)]),(0,r._)("div",g,[(0,r.Wm)(x,{to:{path:f.articleLink(t.id)},class:"text-blue-600 hover:underline"},{default:(0,r.w5)((()=>[(0,r.Uk)("Read more âŸ¶ ")])),_:2},1032,["to"]),m])])])))),128))]),(0,r._)("div",h,[(0,r.Wm)(v,{"page-size":b.userPageSize,select:f.select,"total-count":b.totalCount,users:b.users},null,8,["page-size","select","total-count","users"])])])}s(7658);const f=(0,r._)("div",{class:"my-0"},[(0,r._)("h2",{class:"font-bold text-sm"},[(0,r._)("i",{class:"bi bi-people"}),(0,r.Uk)(" People who to follow ")])],-1),w={class:"flex flex-row place-items-center gap-1 h-12 w-full p-2 my-1"},x=(0,r._)("div",{class:"w-1/6"},[(0,r._)("img",{alt:"Rounded avatar",class:"w-8 h-8 rounded-full",src:"https://flowbite.com/docs/images/people/profile-picture-5.jpg"})],-1),v={class:"flex flex-col w-5/6"},_={class:"text-xs font-bold"},y=(0,r._)("div",null,[(0,r._)("button",{class:"p-2 px-8 border rounded-full text-xs font-bold hover:bg-black hover:text-white w-20 h-8"},[(0,r._)("span",null,"Follow")])],-1);function k(t,e,s,l,o,a){const n=(0,r.up)("pagination-button");return(0,r.wg)(),(0,r.iD)("div",null,[f,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.users,((t,e)=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r._)("div",w,[x,(0,r._)("div",v,[(0,r._)("div",_,(0,r.zw)(t.name),1)]),y])])))),128)),(0,r.Wm)(n,{"page-size":s.pageSize,select:s.select,"total-count":s.totalCount},null,8,["page-size","select","total-count"])])}const D={class:"my-3"},S={class:"flex flex-row place-items-center justify-center"},A=["onClick"];function L(t,e,s,l,o,a){return(0,r.wg)(),(0,r.iD)("div",D,[(0,r._)("div",S,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.totalButtons(),(t=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("button",{class:(0,r.C_)([o.currentPage+1===t?"bg-black text-white":"text-black","border w-6 p-2 text-xs px-4"]),onClick:e=>a.handlePagination(t)},(0,r.zw)(t),11,A)])))),128))])])}var C={name:"PaginationButton",props:{pageSize:Number,totalCount:Number,select:Function,buttonLength:Number},data(){return{currentPage:0,totalButtons:()=>Math.ceil(this.totalCount/this.pageSize)}},methods:{handlePagination(t){this.currentPage=t-1,this.select(this.pageSize,this.currentPage*this.pageSize)}}},T=s(89);const z=(0,T.Z)(C,[["render",L]]);var E=z,O={name:"PeopleSuggestions",components:{PaginationButton:E},props:{users:Array,totalCount:Number,pageSize:Number,select:Function},data(){return{}}};const P=(0,T.Z)(O,[["render",k]]);var R=P,M=s(7139);const j={class:"font-bold text-xl mb-4 dark:text-gray-500"},B={class:"columns-1 md:columns-2 pb-4 mb-4 border-b dark:border-b-gray-900"},F={class:"flex flex-col md:flex-row mb-3 gap-3 dark:hover:bg-slate-900 md:border dark:border-slate-900 p-2 md:hover:shadow-md md:hover:cursor-pointer md:rounded"},H=(0,r._)("div",{class:"w-full lg:w-28 h-40 md:h-24 overflow-hidden object-contain bg-cover rounded",style:{"background-image":"url('https://tecdn.b-cdn.net/img/new/slides/041.webp')"}},null,-1),N={class:"flex flex-col w-56"},I={class:"article-title mb-1"},Y={class:"text-xs line-clamp-2 font-bold leading-tight dark:text-gray-500"},W={class:"article-description line-clamp-3 mb-1"},U=["innerHTML"],Z={class:"article-created-at"},K={class:"text-[9px] font-bold text-gray-400"};function J(t,e,s,l,o,a){const n=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",j,[(0,r._)("h2",null,"Top "+(0,r.zw)(s.topArticles.length)+" articles",1)]),(0,r._)("div",B,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.topArticles,((t,e)=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r.Wm)(n,{to:{path:a.articleLink(t.id)}},{default:(0,r.w5)((()=>[(0,r._)("div",F,[H,(0,r._)("div",N,[(0,r._)("div",I,[(0,r._)("h2",Y,(0,r.zw)(t.title),1)]),(0,r._)("div",W,[(0,r._)("h4",{class:"text-[10px] font-bold text-gray-500",innerHTML:JSON.parse(t.json_content).blocks[0].data.text},null,8,U)]),(0,r._)("div",Z,[(0,r._)("h4",K,(0,r.zw)(a.formatDate(t.createdAt)),1)])])])])),_:2},1032,["to"])])))),128))])],64)}var $={name:"TopArticles",props:{topArticles:Array},methods:{articleLink(t){return`/article/${t}`},formatDate(t){const e={year:"numeric",month:"long",day:"numeric"},s=new Date(t);return s.toLocaleDateString("en-US",e)}},data(){return{}}};const q=(0,T.Z)($,[["render",J]]);var G=q,Q={name:"ArticleLists",components:{TopArticles:G,PeopleSuggestions:R},computed:{...(0,M.Se)(["getDB"])},data(){return{topArticles:[],topNArticles:4,userPageSize:10,totalCount:0,db:null,users:[],articles:[]}},created(){const t=this.userPageSize,e=0;this.totalRowCount(),this.select(t,e),this.findAllArticles(),this.findTopArticles(this.topNArticles)},methods:{articleLink(t){return`/article/${t}`},totalRowCount(){try{let t="SELECT COUNT(*) as total FROM core_users;";const e=this.getDB.prepare(t);e.step(),this.totalCount=e.getAsObject().total}catch(t){}},select(t=10,e=0){this.users=[];let s="SELECT * FROM core_users LIMIT ? OFFSET ?";const r=this.getDB.prepare(s);r.bind([t,e]);while(r.step())this.users.push(r.getAsObject());r.free()},findAllArticles(t=10,e=0){const s="SELECT * FROM articles WHERE id NOT IN (SELECT id FROM articles ORDER BY id DESC LIMIT 4) ORDER BY id DESC LIMIT ? OFFSET ?",r=this.getDB.prepare(s);r.bind([t,e]);while(r.step())this.articles.push(r.getAsObject());r.free()},findTopArticles(t=4){const e="SELECT * FROM articles ORDER BY id DESC LIMIT ?",s=this.getDB.prepare(e);s.bind([t]);while(s.step())this.topArticles.push(s.getAsObject());s.free()},formatDate(t){const e={year:"numeric",month:"long",day:"numeric"},s=new Date(t);return s.toLocaleDateString("en-US",e)}}};const V=(0,T.Z)(Q,[["render",b]]);var X=V,tt={name:"HomePage",components:{ArticleLists:X}};const et=(0,T.Z)(tt,[["render",l]]);var st=et}}]);